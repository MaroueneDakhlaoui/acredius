<html>
<link rel="stylesheet" href="main.css">
<script src="main.js"></script>
<title> Marouene Dakhlaoui- Acredius case-study </title>
<body>
<h1> Marouene Dakhlaoui-Acredius Case Study! </h1>
<h2>I-/ Exploratory data analysis </h2>
<p>First things first let's look at the data</p>
</body>
</html><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Pays</th>
      <th>Taux</th>
      <th>Mois</th>
      <th>...</th>
      <th>BFRE en nombre de jours de CA 15</th>
      <th>BFRE en nombre de jours de CA 16</th>
      <th>BFRE en nombre de jours de CA 17</th>
      <th>BFRE en nombre de jours de CA 18</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>755334684</td>
      <td>France</td>
      <td>5,85 %</td>
      <td>48</td>
      <td>...</td>
      <td>NaN</td>
      <td>367</td>
      <td>252</td>
      <td>200.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>666598628</td>
      <td>Espagne</td>
      <td>5,50 %</td>
      <td>48</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>528199436</td>
      <td>Pays-Bas</td>
      <td>6,45 %</td>
      <td>48</td>
      <td>...</td>
      <td>NaN</td>
      <td>102</td>
      <td>-19</td>
      <td>71.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>353279184</td>
      <td>France</td>
      <td>0.06</td>
      <td>60</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>45</td>
      <td>35.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>633690177</td>
      <td>Italie</td>
      <td>4,90 %</td>
      <td>36</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>849589318</td>
      <td>Espagne</td>
      <td>6,75 %</td>
      <td>60</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>306158947</td>
      <td>Espagne</td>
      <td>5,95 %</td>
      <td>36</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>910388067</td>
      <td>Pays-Bas</td>
      <td>6,90 %</td>
      <td>48</td>
      <td>...</td>
      <td>NaN</td>
      <td>-1</td>
      <td>-6</td>
      <td>-1.0</td>
    </tr>
  </tbody>
</table><br><br> <strong> The shape of the dataframe is: (688, 87)</strong> <p>I have only printed an 8 by 8 mini version of the dataframe for clarity in this report, but I have went through more inclusive version of the dataframe. </p> <h2> 1-/ Null values </h2> <p>Let's check the percentages of null and empty values for each column</p> <p>In doing so we create two pandas series, One for columns that have 30% or more missing values, and another for columns with less than 30% missing values</p> </p></p><table border="1" class="dataframe">
  <tbody>
    <tr>
      <th>Nombre de mois de la période 15</th>
      <td>56.40</td>
    </tr>
    <tr>
      <th>Nombre de mois de la période 16</th>
      <td>38.52</td>
    </tr>
    <tr>
      <th>Nombre de mois de la période 17</th>
      <td>48.98</td>
    </tr>
    <tr>
      <th>Nombre de mois de la période 18</th>
      <td>75.58</td>
    </tr>
    <tr>
      <th>CA15</th>
      <td>45.64</td>
    </tr>
    <tr>
      <th>CA17</th>
      <td>54.65</td>
    </tr>
    <tr>
      <th>CA18</th>
      <td>81.83</td>
    </tr>
    <tr>
      <th>EV_CA15</th>
      <td>67.01</td>
    </tr>
    <tr>
      <th>EV_CA16</th>
      <td>45.20</td>
    </tr>
    <tr>
      <th>EV_CA17</th>
      <td>57.56</td>
    </tr>
    <tr>
      <th>EV_CA18</th>
      <td>81.83</td>
    </tr>
    <tr>
      <th>EBE(retraité des loyers de leasing) 15</th>
      <td>46.22</td>
    </tr>
    <tr>
      <th>EBE(retraité des loyers de leasing) 17</th>
      <td>54.80</td>
    </tr>
    <tr>
      <th>EBE(retraité des loyers de leasing) 18</th>
      <td>81.54</td>
    </tr>
    <tr>
      <th>Marge d'EBE 15</th>
      <td>73.40</td>
    </tr>
    <tr>
      <th>Marge d'EBE 16</th>
      <td>66.28</td>
    </tr>
    <tr>
      <th>Marge d'EBE 17</th>
      <td>82.41</td>
    </tr>
    <tr>
      <th>Marge d'EBE 18</th>
      <td>92.88</td>
    </tr>
    <tr>
      <th>Resultat Net 15</th>
      <td>46.37</td>
    </tr>
    <tr>
      <th>Resultat Net 17</th>
      <td>55.23</td>
    </tr>
    <tr>
      <th>Resultat Net 18</th>
      <td>82.12</td>
    </tr>
    <tr>
      <th>Total Bilan 15</th>
      <td>45.93</td>
    </tr>
    <tr>
      <th>Total Bilan 17</th>
      <td>54.80</td>
    </tr>
    <tr>
      <th>Total Bilan 18</th>
      <td>81.54</td>
    </tr>
    <tr>
      <th>BFRE 15</th>
      <td>73.55</td>
    </tr>
    <tr>
      <th>BFRE 16</th>
      <td>68.31</td>
    </tr>
    <tr>
      <th>BFRE 17</th>
      <td>84.45</td>
    </tr>
    <tr>
      <th>BFRE 18</th>
      <td>94.91</td>
    </tr>
    <tr>
      <th>Capacité de remboursement (FCCR) 15</th>
      <td>46.22</td>
    </tr>
    <tr>
      <th>Capacité de remboursement (FCCR) 17</th>
      <td>54.80</td>
    </tr>
    <tr>
      <th>Capacité de remboursement (FCCR) 18</th>
      <td>81.69</td>
    </tr>
    <tr>
      <th>Fonds Propres 15</th>
      <td>45.93</td>
    </tr>
    <tr>
      <th>Fonds Propres 17</th>
      <td>54.94</td>
    </tr>
    <tr>
      <th>Fonds Propres 18</th>
      <td>81.83</td>
    </tr>
    <tr>
      <th>Fonds Propres / Total Bilan 15</th>
      <td>46.66</td>
    </tr>
    <tr>
      <th>Fonds Propres / Total Bilan 17</th>
      <td>55.09</td>
    </tr>
    <tr>
      <th>Fonds Propres / Total Bilan 18</th>
      <td>81.83</td>
    </tr>
    <tr>
      <th>Passif circulant 15</th>
      <td>73.40</td>
    </tr>
    <tr>
      <th>Passif circulant 16</th>
      <td>66.42</td>
    </tr>
    <tr>
      <th>Passif circulant 17</th>
      <td>82.41</td>
    </tr>
    <tr>
      <th>Passif circulant 18</th>
      <td>92.88</td>
    </tr>
    <tr>
      <th>Actif immobilisé 15</th>
      <td>73.26</td>
    </tr>
    <tr>
      <th>Actif immobilisé 16</th>
      <td>66.42</td>
    </tr>
    <tr>
      <th>Actif immobilisé 17</th>
      <td>82.56</td>
    </tr>
    <tr>
      <th>Actif immobilisé 18</th>
      <td>93.02</td>
    </tr>
    <tr>
      <th>Actif circulant 15</th>
      <td>73.40</td>
    </tr>
    <tr>
      <th>Actif circulant 16</th>
      <td>66.42</td>
    </tr>
    <tr>
      <th>Actif circulant 17</th>
      <td>82.56</td>
    </tr>
    <tr>
      <th>Actif circulant 18</th>
      <td>93.02</td>
    </tr>
    <tr>
      <th>Dettes court terme 15</th>
      <td>73.55</td>
    </tr>
    <tr>
      <th>Dettes court terme 16</th>
      <td>67.15</td>
    </tr>
    <tr>
      <th>Dettes court terme 17</th>
      <td>82.85</td>
    </tr>
    <tr>
      <th>Dettes court terme 18</th>
      <td>93.02</td>
    </tr>
    <tr>
      <th>Dettes Moyen long terme 15</th>
      <td>73.69</td>
    </tr>
    <tr>
      <th>Dettes Moyen long terme 16</th>
      <td>66.86</td>
    </tr>
    <tr>
      <th>Dettes Moyen long terme 17</th>
      <td>82.99</td>
    </tr>
    <tr>
      <th>Dettes Moyen long terme 18</th>
      <td>93.17</td>
    </tr>
    <tr>
      <th>Dettes Nettes / EBE(* années) 15</th>
      <td>46.08</td>
    </tr>
    <tr>
      <th>Dettes Nettes / EBE(* années) 17</th>
      <td>55.23</td>
    </tr>
    <tr>
      <th>Dettes Nettes / EBE(* années) 18</th>
      <td>81.98</td>
    </tr>
    <tr>
      <th>Dettes Nettes / Fonds propres 15</th>
      <td>46.51</td>
    </tr>
    <tr>
      <th>Dettes Nettes / Fonds propres 17</th>
      <td>54.80</td>
    </tr>
    <tr>
      <th>Dettes Nettes / Fonds propres 18</th>
      <td>81.69</td>
    </tr>
    <tr>
      <th>BFRE en nombre de jours de CA 15</th>
      <td>72.97</td>
    </tr>
    <tr>
      <th>BFRE en nombre de jours de CA 16</th>
      <td>63.95</td>
    </tr>
    <tr>
      <th>BFRE en nombre de jours de CA 17</th>
      <td>72.67</td>
    </tr>
    <tr>
      <th>BFRE en nombre de jours de CA 18</th>
      <td>89.10</td>
    </tr>
  </tbody>
</table><br> <br>The number of columns that have more than 30% is 67<p>In the following sections we will decide what to do with these Null values based on the business need and importance the column </p> <h2>a-/ The 'Nombre de mois de la période' Columns (15 => 18) </h2><p> Let's explore the different unique values of these variables from 2015 to 2018 and their occurrences</p><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre de mois de la période 16</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12 mois</th>
      <td>222</td>
    </tr>
    <tr>
      <th>12</th>
      <td>103</td>
    </tr>
    <tr>
      <th>-</th>
      <td>73</td>
    </tr>
    <tr>
      <th>12 mois</th>
      <td>15</td>
    </tr>
    <tr>
      <th>7 mois</th>
      <td>2</td>
    </tr>
    <tr>
      <th>16 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>6 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>15 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>9,5 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>23 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>22 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>11 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>8 mois</th>
      <td>1</td>
    </tr>
  </tbody>
</table><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre de mois de la période 17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12 mois</th>
      <td>177</td>
    </tr>
    <tr>
      <th>12</th>
      <td>106</td>
    </tr>
    <tr>
      <th>-</th>
      <td>43</td>
    </tr>
    <tr>
      <th>12 mois</th>
      <td>11</td>
    </tr>
    <tr>
      <th>12 mois\n</th>
      <td>6</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1</td>
    </tr>
    <tr>
      <th>15 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>18 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>9 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>31/10/2017</th>
      <td>1</td>
    </tr>
  </tbody>
</table><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre de mois de la période 15</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12 mois</th>
      <td>201</td>
    </tr>
    <tr>
      <th>-</th>
      <td>73</td>
    </tr>
    <tr>
      <th>12 mois</th>
      <td>13</td>
    </tr>
    <tr>
      <th>12</th>
      <td>6</td>
    </tr>
    <tr>
      <th>8 mois</th>
      <td>2</td>
    </tr>
    <tr>
      <th>18 mois</th>
      <td>2</td>
    </tr>
    <tr>
      <th>21 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>7 mois</th>
      <td>1</td>
    </tr>
    <tr>
      <th>15 mois</th>
      <td>1</td>
    </tr>
  </tbody>
</table><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Nombre de mois de la période 18</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12</th>
      <td>105</td>
    </tr>
    <tr>
      <th>-</th>
      <td>41</td>
    </tr>
    <tr>
      <th>12 mois</th>
      <td>18</td>
    </tr>
    <tr>
      <th>12 mois\n</th>
      <td>2</td>
    </tr>
    <tr>
      <th>12 mois</th>
      <td>2</td>
    </tr>
  </tbody>
</table><p> We can see a lack of variability in this column, most of the data is either 12 months or missing (with some exception), this applies to this column for the four years from 2015 to 2018 </p> <p id="important-remark"> We can safely conclude that these variables will not contribute to any target 
and can be removed from our dataset </p> <h2>a-/ The 'Chiffre d'affaire' Columns (15 => 18) </h2>  <p> As mentioned in section 1, three of the 
four years we are taking data for CA have a lot of missing values</p> <p id="important-remark-red">We can not just 
drop these columns, because the money turnover is an important indicator for credit risk prediction <br> As a start We 
can write a function to see how many rows have missing data <mark>in the four years together</mark></p> <p>These 4 fields are null together in 167 Occurrences, meaning in 24.27% Of the data That is not too bad of a percentage, but we have to work through it. <br>For those rows, we have no choice but to drop them, the good news is that we have an idea for the remaining rows to have an inclusive data about this column <br> The idea is to develop a function that <mark> finds the most recent, non-null money turnover for each row </mark> and creates a column that takes that most recent value for all rows, that way we will have an inclusive information regarding this variable for all remaining rows and we won't have to lose much data.<br> After applying this function, we develop and apply another function that casts all variables of the new column for recent CA to str, removes all non-int characters, and then casts all row values to floats with 2 decimals to have all the data as floats for the model </p> <h2>b-/ The 'Evolution Chiffre d'affaire' Columns (15 => 18) </h2>  <p> Similarly we have a lot of 
missing data in this<mark> very important </mark>column but the interesting finding here is that These 4 fields are null together in 4 Occurrences, meaning in 0.78% Of the data which is a very small percentage, we can just drop the few rows that are null across all years</p>